<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CADAROMA â€” Order Book</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{font-family:'Poppins',sans-serif;background:#f6f0fa;color:#4b0082;}
  
  header{width:100%;padding:20px;text-align:center;background:#ffffffcc;position:sticky;top:0;z-index:10;box-shadow:0 2px 10px rgba(0,0,0,0.1);}
  .header-text{font-size:2rem;font-weight:700;color:#6b3fa0;text-shadow:0 0 8px #caa7f0,0 0 15px #caa7f0;}
  nav{margin-top:10px;}
  nav a{color:#6b3fa0;text-decoration:none;margin:0 15px;font-weight:500;transition:0.3s;}
  nav a:hover{text-shadow:0 0 8px #caa7f0;}

  .container{max-width:900px;margin:40px auto;padding:20px;background:#ffffff;border-radius:20px;box-shadow:0 5px 15px rgba(107,63,160,0.2);}
  h2{text-align:center;margin-bottom:20px;font-size:2rem;color:#6b3fa0;}
  label{display:block;margin-top:15px;font-weight:500;color:#4b0082;}
  input, select{width:100%;padding:10px;border:1px solid #ccc;border-radius:10px;margin-top:5px;}
  button{margin-top:20px;padding:12px 25px;background:#6b3fa0;color:#fff;border:none;border-radius:20px;font-weight:600;cursor:pointer;transition:0.3s;}
  button:hover{background:#4b0082;}

  table{width:100%;border-collapse:collapse;margin-top:25px;}
  th,td{border:1px solid #ddd;padding:10px;text-align:center;}
  th{background:#e0d6f2;color:#4b0082;font-weight:600;}
  .remove-btn{background:#c930eb;padding:5px 10px;color:#fff;border:none;border-radius:8px;cursor:pointer;}
  .remove-btn:hover{background:#a020f0;}

  .summary{margin-top:25px;padding:15px;background:#f0e6fa;border-radius:15px;}
  .summary p{margin:6px 0;font-weight:600;color:#4b0082;}

  @media(max-width:768px){
    header, .container{padding:15px;}
    h2{font-size:1.6rem;}
    input, select, button{padding:8px;}
  }
</style>
</head>
<body>

<header>
  <div class="header-text">CADAROMA</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="products.html">Products</a>
    <a href="order.html">Order</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<div class="container">
  <h2>Order Book</h2>
  <form id="orderForm">
    <label>Customer Name</label>
    <input type="text" id="customer" placeholder="Enter customer name" required>

    <label>Select Product</label>
    <select id="product" required>
      <option value="">-- Select Candle --</option>
      <option value="CLAY SOYA Candle">CLAY SOYA Candle</option>
      <option value="TLIGHT GEL Candle">TLIGHT GEL Candle</option>
      <option value="TLIGHT SOYA Candle">TLIGHT SOYA Candle</option>
      <option value="LADDU Candle">LADDU Candle</option>
      <option value="MODAK Candle">MODAK Candle</option>
      <option value="SMALL DOLL Candle">SMALL DOLL Candle</option>
      <option value="DAISY FLOWER Candle">DAISY FLOWER Candle</option>
      <option value="BUBBLE Candle">BUBBLE Candle</option>
      <option value="3D FLOWER BALL Ball Candle">3D FLOWER BALL Ball Candle</option>
      <option value="PEONY FLOWER Candle">PEONY FLOWER Candle</option>
      <option value="BOUQUET Candle">BOUQUET Candle</option>
      <option value="SMALL GLASS Candle">SMALL GLASS Candle</option>
    </select>

    <label>Pieces</label>
    <select id="pieces" required>
      <option value="">-- Select Pieces --</option>
    </select>

    <label>Price (Rs)</label>
    <select id="price" disabled>
      <option value="">-- Price --</option>
    </select>

    <label>Coupon Code</label>
    <input type="text" id="coupon" placeholder="Enter coupon code (optional)">

    <div class="summary">
      <p>Total Amount: Rs <span id="totalAmount">0</span></p>
      <p>Discount: <span id="discountPercent">0</span>%</p>
      <p>Discount Amount: Rs <span id="discountAmount">0</span></p>
      <p>Total After Discount: Rs <span id="totalAfterDiscount">0</span></p>
    </div>

    <button type="button" id="addProduct">Add Product</button>
  </form>

  <table id="ordersTable">
    <thead>
      <tr>
        <th>Customer</th>
        <th>Product</th>
        <th>Pieces</th>
        <th>Price (Rs)</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<script>
const productData = {
  'CLAY SOYA Candle': [{pieces:14, price:99},{pieces:50, price:330}],
  'TLIGHT GEL Candle': [{pieces:12, price:99}],
  'TLIGHT SOYA Candle': [{pieces:14, price:99},{pieces:50, price:330}],
  'LADDU Candle': [{pieces:6, price:99},{pieces:50, price:700}],
  'MODAK Candle': [{pieces:6, price:99},{pieces:50, price:700}],
  'SMALL DOLL Candle': [{pieces:6, price:50},{pieces:15, price:100}],
  'DAISY FLOWER Candle': [{pieces:8, price:100}],
  'BUBBLE Candle': [{pieces:5, price:100},{pieces:20, price:350}],
  '3D FLOWER BALL Ball Candle': [{pieces:2, price:120},{pieces:5, price:250}],
  'PEONY FLOWER Candle': [{pieces:2, price:120},{pieces:5, price:250}],
  'BOUQUET Candle': [{pieces:1, price:149}],
  'SMALL GLASS Candle': [{pieces:1, price:80},{pieces:2, price:150}]
};
const coupons = {'CADAROMA10':10,'CADAROMA20':20};

let orderList = [];
const productSelect = document.getElementById('product');
const piecesSelect = document.getElementById('pieces');
const priceSelect = document.getElementById('price');
const totalAmountSpan = document.getElementById('totalAmount');
const discountPercentSpan = document.getElementById('discountPercent');
const discountAmountSpan = document.getElementById('discountAmount');
const totalAfterDiscountSpan = document.getElementById('totalAfterDiscount');
const couponInput = document.getElementById('coupon');

productSelect.addEventListener('change', function(){
  const selected = productSelect.value;
  piecesSelect.innerHTML = '<option value="">-- Select Pieces --</option>';
  priceSelect.innerHTML = '<option value="">-- Price --</option>';
  priceSelect.disabled = true;
  if(selected && productData[selected]){
    productData[selected].forEach(item=>{
      const opt = document.createElement('option');
      opt.value = item.price;
      opt.textContent = item.pieces + ' pcs';
      piecesSelect.appendChild(opt);
    });
  }
});

piecesSelect.addEventListener('change', function(){
  if(piecesSelect.value){
    priceSelect.innerHTML = `<option value="${piecesSelect.value}">Rs ${piecesSelect.value}</option>`;
    priceSelect.disabled = true;
  }
});

couponInput.addEventListener('input', calculateTotal);

function calculateTotal(){
  let total = orderList.reduce((sum,o)=> sum + Number(o.price),0);
  const code = couponInput.value.trim();
  let discountPercent = coupons[code] || 0;
  const discountAmount = total * discountPercent / 100;
  const totalAfterDiscount = total - discountAmount;

  totalAmountSpan.textContent = total;
  discountPercentSpan.textContent = discountPercent;
  discountAmountSpan.textContent = discountAmount;
  totalAfterDiscountSpan.textContent = totalAfterDiscount;
}

function addProductToOrder(){
  const customer = document.getElementById('customer').value.trim();
  const product = productSelect.value;
  const pieces = piecesSelect.selectedOptions[0]?.textContent;
  const price = priceSelect.value;
  if(!customer || !product || !pieces || !price){ alert('Please fill all fields'); return; }
  orderList.push({customer, product, pieces, price});
  renderTable();
  calculateTotal();
}

function removeProduct(index){
  orderList.splice(index,1);
  renderTable();
  calculateTotal();
}

function renderTable(){
  const tbody = document.querySelector('#ordersTable tbody');
  tbody.innerHTML = '';
  orderList.forEach((o,index)=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${o.customer}</td><td>${o.product}</td><td>${o.pieces}</td><td>Rs ${o.price}</td><td><button class='remove-btn' onclick='removeProduct(${index})'>Remove</button></td>`;
    tbody.appendChild(tr);
  });
}

document.getElementById('addProduct').addEventListener('click', addProductToOrder);
</script>

</body>
</html>
